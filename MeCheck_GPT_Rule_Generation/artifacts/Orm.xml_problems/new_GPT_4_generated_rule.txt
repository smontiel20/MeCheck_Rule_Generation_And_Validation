Rule unresolved-db-refs-in-orm { for (file orm in getXMLs()) { if (elementExists(orm, "<entity>") OR elementExists(orm, "<table>")) { for (<entity> entity in getElms(orm, "<entity>")) { String entityTable = getAttr(entity, "table"); if (NOT isEmpty(entityTable)) { assert ( classExists(entityTable) OR isLibraryClass(entityTable) ) { msg("Entity table: %s mentioned in entity: %s, does not exist", entityTable, getName(entity)); } } } for (<table> table in getElms(orm, "<table>")) { String tableName = getAttr(table, "name"); if (NOT isEmpty(tableName)) { assert ( classExists(tableName) OR isLibraryClass(tableName) ) { msg("Table name: %s mentioned in table: %s, does not exist", tableName, getName(table)); } } } } } }
