Rule parameterized_test_class_without_data_provider_method {
  for (class c in getClasses()) {
    if (hasAnnotation(c, "RunWith") AND getAnnoAttr(c, "RunWith") == "Parameterized.class") {
      assert ( exists(method m in getMethods(c)) ( hasAnnotation(m, "Parameterized.Parameters") AND isStatic(m) AND (getReturnType(m) == "Iterable" OR getReturnType(m) == "Object[]") ) ) {
        msg("The class: %s is a JUnit 4 parameterized test class but does not include a data provider method with correct signature. Consider creating an empty parameter provider method or changing the signature of the incorrect data provider method.", getFQN(c));
      }
    }
  }
}
