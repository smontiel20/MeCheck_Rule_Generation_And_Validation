Rule persistent-entity-misses-primary-key {
  for (class c in getClasses()) {
    if (getAnnotated(c, "@Entity")) {
      assert ( exists(field f in getFields(c)) ( hasAnnotation(f, "@Id") ) ) {
        msg("Persistent entity: %s does not have a primary key", getFQN(c));
      }
    }
  }
}
