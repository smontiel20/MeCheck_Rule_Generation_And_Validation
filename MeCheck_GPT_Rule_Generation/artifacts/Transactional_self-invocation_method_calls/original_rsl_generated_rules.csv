framework,source URL (JetBrains web page),brief_description of the content in the source URL,GPT-4 generated_rule,generated_rule_explanation from GPT-4,new_built-in_functions_explanation if any,PRE_model_validation,3rd-party most relevant URLs and summary for each URL,POST_model validation
Spring Core,https://www.jetbrains.com.cn/en-us/help/inspectopedia/SpringTransactionalMethodCallsInspection.html,"The source URL explains that in Spring's @Transactional annotation, only external method calls coming through the proxy are intercepted. This means that self-invocation, a method within the target object calling another method of the target object, does not lead to an actual transaction at runtime even if the invoked method is marked with @Transactional.","Rule transactional_self_invocation {
  for (class c in getClasses()) {
    if (hasAnnotation(c, '@Transactional')) {
      for (method m in getMethods(c)) {
        if (hasAnnotation(m, '@Transactional')) {
          assert (NOT exists(method calledMethod in getMethods(c)) (getName(calledMethod) == getName(m) AND isUniqueSN(calledMethod))) {
            msg('Self-invocation of method: %s in class: %s does not lead to an actual transaction at runtime even if the invoked method is marked with @Transactional.', getName(m), getFQN(c));
          }
        }
      }
    }
  }
}","The rule 'transactional_self_invocation' checks for all classes in the application. If a class has the @Transactional annotation, it checks all methods in that class. If a method also has the @Transactional annotation, it asserts that there is no other method in the same class with the same name and unique serial number (SN). If such a method exists, it means that there is a self-invocation of the method, which does not lead to an actual transaction at runtime even if the invoked method is marked with @Transactional. In such a case, a message is displayed with the name of the method and the fully qualified name (FQN) of the class.",,,"1. https://www.baeldung.com/spring-self-invocation: This article explains the concept of self-invocation in Spring and how it can lead to unexpected behavior when using @Transactional annotation. It also provides solutions to handle this issue.
2. https://stackoverflow.com/questions/3423972/spring-transactional-what-happens-when-a-transactional-method-calls-another: This StackOverflow thread discusses what happens when a @Transactional method calls another @Transactional method within the same class, which is essentially a self-invocation scenario. The answers confirm that the transactional behavior does not apply to the self-invoked method.",
